{
  "embedding": [
    -0.03539123386144638,
    -0.05838799849152565,
    -0.022976670414209366,
    0.009480864740908146,
    0.07078713178634644,
    -0.02689051628112793,
    0.018810972571372986,
    0.0270824171602726,
    -0.08243821561336517,
    0.011679653078317642,
    -0.02268272079527378,
    -0.04336567968130112,
    -0.032111018896102905,
    -0.05337127670645714,
    0.017226766794919968,
    0.022935744374990463,
    0.06776435673236847,
    -0.023361850529909134,
    -0.040141113102436066,
    -0.0415109321475029,
    -0.02063380368053913,
    -0.03798535093665123,
    0.003235979937016964,
    0.049843259155750275,
    0.005689241923391819,
    -0.0010937106562778354,
    -0.037130337208509445,
    -0.01379495020955801,
    -0.027196761220693588,
    -0.04115397483110428,
    -0.024847393855452538,
    0.046543918550014496,
    -0.05759914219379425,
    -0.021170347929000854,
    -0.014128443785011768,
    0.02089160680770874,
    0.0349675677716732,
    -0.08591172844171524,
    -0.12321384996175766,
    -0.03209823742508888,
    0.03428023308515549,
    -0.06861436367034912,
    -0.0433243028819561,
    0.0405372679233551,
    -0.012216754257678986,
    0.039476729929447174,
    -0.005901607219129801,
    -0.026852641254663467,
    -0.031567081809043884,
    -0.011369852349162102,
    -0.05155753716826439,
    0.016758162528276443,
    0.0025020067114382982,
    0.056996073573827744,
    0.1040443703532219,
    0.0386139452457428,
    0.019248196855187416,
    0.029744794592261314,
    -0.014491797424852848,
    -0.01673433557152748,
    0.07069122791290283,
    -0.0428791418671608,
    0.00274000596255064,
    -0.006265821401029825,
    -0.029967015609145164,
    -0.0074595189653337,
    0.0020337672904133797,
    0.01758977398276329,
    0.18312662839889526,
    -0.028640560805797577,
    -0.06432374566793442,
    0.08817382901906967,
    -0.07421937584877014,
    -0.021447718143463135,
    -0.08593393117189407,
    -0.045465122908353806,
    0.03263678774237633,
    0.0020996639505028725,
    -0.001194559852592647,
    -0.13610036671161652,
    -0.062169600278139114,
    0.010699362494051456,
    -0.02707715705037117,
    -0.04919249564409256,
    0.020496709272265434,
    0.014298824593424797,
    0.018450256437063217,
    -0.04443894326686859,
    0.010173855349421501,
    0.011408105492591858,
    0.05155427008867264,
    0.018186574801802635,
    0.052490636706352234,
    -0.0805259570479393,
    -0.052620403468608856,
    0.06532307714223862,
    0.04730810970067978,
    -0.0022135975304991007,
    -0.0049562109634280205,
    0.07334691286087036,
    0.03533323481678963,
    0.0027331982273608446,
    -0.03180299699306488,
    0.04736420512199402,
    0.03722773492336273,
    -0.04329586401581764,
    -0.02453802153468132,
    0.06112807244062424,
    -0.08221104741096497,
    0.02861165441572666,
    -0.022518018260598183,
    0.023229077458381653,
    0.0016533855814486742,
    -0.0681532770395279,
    -0.011580953374505043,
    0.05481550097465515,
    -0.07967425882816315,
    -0.035715777426958084,
    0.04906696453690529,
    0.12585248053073883,
    0.09078487753868103,
    -0.0004930333234369755,
    -0.01732909306883812,
    0.015374835580587387,
    0.06673011183738708,
    0.0650026798248291,
    0.03618749603629112,
    6.02142242497115e-33,
    0.029420949518680573,
    -0.019546622410416603,
    -0.08595534414052963,
    0.015289096161723137,
    0.007064937148243189,
    0.016049444675445557,
    0.012552252039313316,
    0.021615175530314445,
    0.011303377337753773,
    0.023503437638282776,
    -0.01384890265762806,
    0.013781818561255932,
    -0.08213967829942703,
    -0.0014253203989937901,
    0.06918951123952866,
    -0.0681120976805687,
    -0.0218280591070652,
    0.008867069147527218,
    0.10674304515123367,
    -0.003108676988631487,
    0.07316308468580246,
    0.05887654796242714,
    -0.0848119705915451,
    -0.013021132908761501,
    0.03275309503078461,
    -0.027216898277401924,
    0.03978365287184715,
    -0.025324974209070206,
    -0.018771953880786896,
    0.046972647309303284,
    0.06745549291372299,
    -0.04817786067724228,
    -0.03348521515727043,
    0.0166037417948246,
    0.013943441212177277,
    -0.030642425641417503,
    -0.05651937797665596,
    -0.05456610769033432,
    -0.06823412328958511,
    -0.07757627218961716,
    -0.038427695631980896,
    0.04454098641872406,
    -0.12483714520931244,
    -0.04450869560241699,
    0.020360371097922325,
    -0.05420731008052826,
    0.023073872551321983,
    0.0329786017537117,
    0.013129160739481449,
    -0.07831751555204391,
    0.042713601142168045,
    0.01815107651054859,
    0.04081711918115616,
    0.05147653445601463,
    0.044236522167921066,
    -0.012245217338204384,
    0.056917134672403336,
    -0.05461081117391586,
    0.03542530536651611,
    0.10045991092920303,
    -0.04248987138271332,
    -0.0195851381868124,
    -0.011612877249717712,
    -0.020013932138681412,
    0.0699397549033165,
    0.06959063559770584,
    0.037003498524427414,
    -0.009348059073090553,
    0.06220803037285805,
    -0.0068532684817910194,
    -0.028053324669599533,
    -0.0017333936411887407,
    0.03712555766105652,
    0.004280182532966137,
    -0.03314344584941864,
    -0.05397937819361687,
    -0.02086554281413555,
    -0.062196921557188034,
    -0.1525879055261612,
    -0.00677306717261672,
    -0.01799553446471691,
    0.024331916123628616,
    -0.06719662994146347,
    0.06764507293701172,
    -0.04342646151781082,
    -0.04175804555416107,
    0.027919834479689598,
    -0.037316013127565384,
    -0.10332417488098145,
    0.021814530715346336,
    -0.0002903890854213387,
    0.010920214466750622,
    0.1130576878786087,
    -0.05239246040582657,
    -0.05494999885559082,
    -5.561717441091263e-33,
    -0.01757223531603813,
    -0.008526470512151718,
    -0.010337507352232933,
    0.07269033044576645,
    0.013543165288865566,
    -0.035500627011060715,
    0.003289533546194434,
    0.013686098158359528,
    0.012973169796168804,
    -0.047577496618032455,
    -0.10681618005037308,
    -0.04132489114999771,
    -0.00010906867100857198,
    -0.03635697811841965,
    -0.020346378907561302,
    0.033886462450027466,
    0.006214110180735588,
    -0.11633409559726715,
    0.0037379844579845667,
    0.05768025293946266,
    -0.0868556797504425,
    0.11559294909238815,
    -0.05746550112962723,
    0.007988949306309223,
    -0.008144603110849857,
    0.031501226127147675,
    -0.01813628524541855,
    0.030956115573644638,
    0.0014242078177630901,
    -0.06335308402776718,
    0.03029787167906761,
    -0.06265796720981598,
    -0.05604654923081398,
    -0.04494071379303932,
    -0.005726465489715338,
    -0.016106000170111656,
    0.06965398043394089,
    0.04610428586602211,
    -0.07039716839790344,
    0.037936046719551086,
    0.11656247824430466,
    -0.0012781925033777952,
    -0.05394695699214935,
    0.0051758913323283195,
    -0.00536962179467082,
    0.09829966723918915,
    -0.10817092657089233,
    0.021720319986343384,
    -0.11638079583644867,
    0.012053542770445347,
    0.020197130739688873,
    -0.06346005946397781,
    -0.0399886779487133,
    0.03047201596200466,
    0.07944797724485397,
    -0.0026528264861553907,
    0.04560108855366707,
    0.014158496633172035,
    -0.03033205308020115,
    0.062069281935691833,
    0.11129685491323471,
    -0.04228637367486954,
    -0.04508231580257416,
    0.02945646084845066,
    0.028104955330491066,
    0.010278278961777687,
    -0.022929925471544266,
    0.0017718832241371274,
    -0.016988595947623253,
    -0.013387322425842285,
    -0.012433837167918682,
    0.01664516143500805,
    -0.016223719343543053,
    -0.0154644213616848,
    -0.0013720598071813583,
    0.0023673635441809893,
    -0.020289724692702293,
    -0.0427032969892025,
    -0.007769075687974691,
    0.03458619862794876,
    -0.17921912670135498,
    0.032233357429504395,
    0.01802670583128929,
    -0.03147601708769798,
    0.01584341935813427,
    0.02095821127295494,
    -0.007330009248107672,
    0.06458742171525955,
    0.06150219962000847,
    0.009368108585476875,
    -0.0736357718706131,
    -0.01321286242455244,
    -0.12185310572385788,
    0.08377516269683838,
    0.010306141339242458,
    -5.971038063989909e-8,
    0.009609594009816647,
    -0.01932058110833168,
    0.0029868255369365215,
    0.07104834169149399,
    0.06784970313310623,
    -0.02138378657400608,
    0.03547706827521324,
    0.06390808522701263,
    0.013442120514810085,
    0.002164233010262251,
    0.0571925975382328,
    0.03992636874318123,
    -0.06280339509248734,
    -0.023064415901899338,
    0.09667380899190903,
    -0.026324918493628502,
    0.05532314255833626,
    -0.015549308620393276,
    -0.10776609182357788,
    -0.051887597888708115,
    0.020647631958127022,
    0.04826470836997032,
    -0.07765132188796997,
    -0.04102952405810356,
    -0.05187034234404564,
    0.03660424426198006,
    0.10252070426940918,
    0.08120455592870712,
    0.10031742602586746,
    -0.011620410718023777,
    0.044161826372146606,
    -0.022718433290719986,
    0.08133058249950409,
    -0.03259886056184769,
    0.032298021018505096,
    0.0752110704779625,
    -0.09304993599653244,
    0.06188313663005829,
    0.031220421195030212,
    0.08770647644996643,
    -0.0184463020414114,
    0.0014539037365466356,
    -0.013374955393373966,
    0.04008396342396736,
    0.013428927399218082,
    -0.01887448877096176,
    -0.07375826686620712,
    -0.01752374693751335,
    0.01156746968626976,
    -0.004274243023246527,
    -0.0268928874284029,
    -0.024583209306001663,
    -0.012438660487532616,
    0.12392731755971909,
    0.07692733407020569,
    0.023895634338259697,
    0.03142264112830162,
    -0.08306402713060379,
    0.04887617751955986,
    0.052380628883838654,
    0.045382335782051086,
    -0.02754482999444008,
    -0.050472985953092575,
    0.03590936213731766
  ],
  "text": "**Current State**: Fragmented caching with manual refresh patterns\n- 9 services using Hive (profile_cache, personal_event_cache, etc.)\n- Manual Timer-based polling in providers (10 minutes for home feed)\n- Manual listeners on ChangeNotifier services\n- Duplicate cache layers (memory + Hive + service layer)\n\n**Discovery**: nostr_sdk uses sqflite (NOT Rust!)\n- Database at `{appDocs}/openvine/database/local_relay.db`\n- Schema version 2, single `event` table\n- Drift can open SAME database and add tables at schema version 3+\n\n**Riverpod Pattern Changes**:\n1. home_feed_provider: AsyncNotifier (80 lines timers) → StreamProvider (25 lines)\n2. video_events_provider: Manual StreamController → Drift stream\n3. user_profile_providers: Manual cache → Database IS cache\n\n**Benefits**:\n- Automatic reactivity (no timers, no manual invalidation)\n- Single source of truth (all events in DB)\n- Code reduction: ~500 lines of timer/cache/listener code eliminated\n- Performance: 10min polling → instant updates\n\n**TDD Plan Created**: TDD_IMPLEMENTATION_PLAN.md\n- 4-phase migration (Infrastructure, Riverpod, Event Router, Migration)\n- Test coverage: unit, integration, platform, performance\n- Risk mitigation: feature flags, rollback, side-by-side testing",
  "sections": [
    "Project Notes",
    "OpenVine Drift Migration Analysis"
  ],
  "timestamp": 1761112778905,
  "path": "/Users/rabble/code/andotherstuff/openvine/mobile/.private-journal/2025-10-22/18-59-38-905448.md"
}